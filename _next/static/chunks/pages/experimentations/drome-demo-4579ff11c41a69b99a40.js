_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{"2+5t":function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experimentations/drome-demo",function(){return i("H+Nj")}])},"H+Nj":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return O}));var n=i("nKUr"),r=i("vRNQ"),s=i.n(r),a=i("CafY"),c=i("RPyZ"),l=i("q1tI"),d=i("GHpc"),o=i("EUZL"),h=i("PQ1l"),j=i("jwbB"),u=i("1OyB"),b=i("vuIU"),m=function(){function e(t){Object(u.a)(this,e),this.address=t.address,this.lastName=t.lastName,this.firstName=t.firstName,this.email=t.email,this.birthDate=t.birthDate,this.city=t.city,this.postalCode=t.postalCode,this.affiliationNumber=t.affiliationNumber,this.phoneNumber=t.phoneNumber}return Object(b.a)(e,[{key:"fullAddress",value:function(){return"".concat(this.address," - ").concat(this.postalCode," - ").concat(this.city)}}]),e}(),p=Object(h.b)("Dr\xf4me d\xe9mo exp\xe9");function O(){var e=Object(l.useState)(0),t=e[0],i=e[1],r=Object(l.useState)({}),u=r[0],b=r[1],O=Object(l.useReducer)(p,[],h.a),f=O[0],x=O[1],N=Object.keys(u).length>0;return Object(n.jsx)(a.a,{className:s.a.container,children:Object(n.jsxs)("main",{className:s.a.main,children:[Object(n.jsx)("h2",{children:"Exp\xe9rimentation Dr\xf4me"}),!N&&Object(n.jsx)("div",{className:s.a.create,children:Object(n.jsx)(d.a,{handleLogin:function(e,t,i){b({accessToken:e,uid:t,client:i})},rdvUrl:RDV_SOLIDARITES_URL})}),N&&Object(n.jsx)(c.a,{handleFile:function(e){i(e.size),x({type:"reset"});var t=new FileReader;t.onload=function(e){var t=o.read(e.target.result,{type:"binary"}),i=o.utils.sheet_to_row_object_array(t.Sheets["ENTRETIENS PHYSIQUES"]);(i=i.map((function(e){return t=e,Object.keys(t).reduce((function(e,i){return e[i.replace(/[\n\r]+/g," ").trim().replace(/ +(?= )/g,"").replace(/'/g,"-").toLowerCase().replace("n\xb0","numero").split(" ").join("-")]=t[i],e}),{});var t}))).forEach((function(e){var t=new m({address:e.adresse,lastName:e["nom-b\xe9n\xe9ficiaire"],firstName:e["pr\xe9nom-b\xe9n\xe9ficiaire"],email:e["adresses-mails"],birthDate:Object(j.excelDateToString)(e["date-de-naissance"]),city:e["cp-ville"].split(" ").length>1?e["cp-ville"].split(" ")[1]:"",postalCode:e["cp-ville"].split(" ")[0],affiliationNumber:e["numero-allocataire"],phoneNumber:e["numero-t\xe9l\xe9phones"]});x({type:"append",item:t})}))},t.readAsBinaryString(e)},fileSize:t,multiple:!1,uploadMessage:"Glissez votre fichier de nouveaux demandeurs",pendingMessage:"R\xe9cup\xe9ration des informations, merci de patienter"}),f.length>0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Num\xe9ro d'allocataire"}),Object(n.jsx)("th",{children:"Pr\xe9nom"}),Object(n.jsx)("th",{children:"Nom"}),Object(n.jsx)("th",{children:"Adresse"}),Object(n.jsx)("th",{children:"Email"}),Object(n.jsx)("th",{children:"T\xe9l\xe9phone"}),Object(n.jsx)("th",{children:"Date de naissance"})]})}),Object(n.jsx)("tbody",{children:f.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.affiliationNumber}),Object(n.jsx)("td",{children:e.firstName}),Object(n.jsx)("td",{children:e.lastName}),Object(n.jsx)("td",{children:e.fullAddress()}),Object(n.jsx)("td",{children:e.email}),Object(n.jsx)("td",{children:e.phoneNumber}),Object(n.jsx)("td",{children:e.birthDate})]},t)}))})]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:s.a.button,onClick:function(){return x({type:"reset"})},children:"Vider l'historique"})})]})]})})}}},[["2+5t",0,2,8,7,5,1,3,4,6]]]);